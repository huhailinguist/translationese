Testing
=======

This project is comprehensively covered by unit tests. You can run the tests
like so:

.. code-block:: bash

    $ sudo pip install nose
    $ nosetests -v

Furthermore, if you use PyDev, it is recommended to configure it to use
``nosetests`` as the test runner, and have it re-run all tests whenever a file
is saved.

Two types of tests are present:

* Integration tests, testing the complete quantification of a small sample

  * These are implemented using :mod:`unittest`, within the `tests` directory.

* Unit tests, testing the output of a utility function.

  * These are implemented, when convenient, as doctests - examples present in
    the docstring of the utility function. These are tested by nosetests as
    well.

Test utility classes
--------------------

.. automodule:: tests.util
   :members:

Results
=======

To compare against the original article, all hypotheses were run against
~2000-token chunks of EUROPARL data. The chunks were randomly chosen,
consisting of 1000 *O* chunks and 1000 *T* chunks.

.. currentmodule:: translationese

+--------------------------------------------------+---------+-----------------+-----------------+
| Hypothesis                                       | Variant | Accuracy [#f2]_ | Original [#f3]_ |
+==================================================+=========+=================+=================+
| **Simplification**                                                                             |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.lexical_variety`            | 0       | 72.8            | 72              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 1       | 72.75           | 72              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 2       | 75.6            | 76              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.mean_word_length`           |         | 64.05           | 66              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.syllable_ratio`             |         | 59.35           | 61              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.lexical_density`            |         | 52              | 53              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.mean_sentence_length`       |         | 65.45           | 65              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.mean_word_rank`             | 0       | 54.8            | 69              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 1       | 54.9            | 77              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.most_frequent_words`        | 0       | 65.65           | 64 [#f4]_       |
+                                                  +---------+-----------------+-----------------+
|                                                  | 1       | 71.15           |                 |
+                                                  +---------+-----------------+-----------------+
|                                                  | 2       | 83.3            |                 |
+--------------------------------------------------+---------+-----------------+-----------------+
| **Explicitation**                                                                              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.explicit_naming`            |         | 59.8            | 58              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.single_naming`              |         | 57.95           | 56              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.mean_multiple_naming`       |         | 48.05           | 54              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.cohesive_markers`           |         | 82.15           | 81              |
+--------------------------------------------------+---------+-----------------+-----------------+
| **Normalization**                                                                              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.repetitions`                |         | 74.5            | 55              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.contractions`               |         | 50.35           | 50              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.average_pmi`                |         | 59.35           | 52              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.threshold_pmi`              |         | 61.7            | 66              |
+--------------------------------------------------+---------+-----------------+-----------------+
| **Interference**                                                                               |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.pos_n_grams`                | 0       | 87.5            | 90              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 1       | 94.1            | 97              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 2       | 97.1            | 98              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.character_n_grams`          | 0       | 74.65           | 85              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 1       | 95.2            | 98              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 2       | 99.45           | 100             |
+--------------------------------------------------+---------+-----------------+-----------------+
| **Explicitation**                                                                              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.contextual_function_words`  |         | 95.85           | 100             |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.positional_token_frequency` |         | 96.25           | 97              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.function_words`             |         | 96.3            | 96              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.pronouns`                   |         | 76.4            | 77              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.punctuation`                | 0       | 81.75           | 81              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 1       | 81.6            | 85              |
+                                                  +---------+-----------------+-----------------+
|                                                  | 2       | 81.35           | 80              |
+--------------------------------------------------+---------+-----------------+-----------------+
| :mod:`translationese.ratio_to_passive_verbs`     |         | 65.25           | 65              |
+--------------------------------------------------+---------+-----------------+-----------------+

.. [#f2] Weighted average F-measure, as reported by Weka
.. [#f3] Result from `On the Features of Translationese by VV, NO, SW`
.. [#f4] No variants were specified for *Most frequent words* in the original
         article
