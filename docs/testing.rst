Testing
=======

This project is comprehensively covered by unit tests. You can run the tests
like so:

.. code-block:: bash

    $ sudo pip install nose
    $ nosetests -v

Furthermore, if you use PyDev, it is recommended to configure it to use
``nosetests`` as the test runner, and have it re-run all tests whenever a file
is saved.

Two types of tests are present:

* Integration tests, testing the complete quantification of a small sample

  * These are implemented using :mod:`unittest`, within the `tests` directory.

* Unit tests, testing the output of a utility function.

  * These are implemented, when convenient, as doctests - examples present in
    the docstring of the utility function. These are tested by nosetests as
    well.

Test utility classes
--------------------

.. automodule:: tests.util
   :members:

Results
=======

To compare against the original article, all hypotheses were run against
~2000-token chunks of EUROPARL data. The chunks were chosen at random, and
the set size differs due to computational limitations; some theorems generate
very large ARFF data due to high dimensionality.

.. currentmodule:: translationese

+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| Hypothesis                                       | Variant | Set size [#f1]_ | Accuracy [#f2]_ | Original [#f3]_ |
+==================================================+=========+=================+=================+=================+
| **Simplification**                                                                                               |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.lexical_variety`            | 0       | 2000            | 71.6            | 72              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 1       | 2000            | 71.6            | 72              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 2       | 2000            | 75.7            | 76              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.mean_word_length`           |         | 1000            | 63.2            | 66              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.syllable_ratio`             |         | 2000            | 57.6            | 61              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.lexical_density`            |         | 2000            | 47.6            | 53              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.mean_sentence_length`       |         | 1000            | 62.7            | 65              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.mean_word_rank`             | 0       | 2000            | 49.6            | 69              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 1       | 2000            | 55              | 77              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.most_frequent_words`        | 0       | 200             | 65              | 64 [#f4]_       |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 1       | 200             | 68              |                 |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 2       | 200             | 78              |                 |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| **Explicitation**                                                                                                |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.explicit_naming`            |         | 2000            | 61              | 58              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.single_naming`              |         | 2000            | 56.7            | 56              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.mean_multiple_naming`       |         | 100             | 36              | 54              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.cohesive_markers`           |         | 1000            | 83.9            | 81              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| **Normalization**                                                                                                |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.repetitions`                |         | 2000            | 72.8            | 55              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.contractions`               |         | 600,1000,2000   | 34.7,35.2,41.5  | 50              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.average_pmi`                |         | 1000            | 52.2            | 52              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.threshold_pmi`              |         | 2000            | 63              | 66              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| **Interference**                                                                                                 |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.pos_n_grams`                | 0       | 88.1            | 2000            | 90              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 1       | 93.9            | 2000            | 97              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 2       | 94              | 200             | 98              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.character_n_grams`          | 0       | 200             | 70.5            | 85              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 1       | 200             | 85.4            | 98              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 2       | 200             | 94.5            | 100             |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| **Explicitation**                                                                                                |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.contextual_function_words`  |         | 100             | 97.9            | 100             |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.positional_token_frequency` |         | 200             | 91              | 97              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.function_words`             |         | 1000            | 96.3            | 96              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.pronouns`                   |         | 1000            | 76.2            | 77              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.punctuation`                | 0       | 200             | 82              | 81              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 1       | 200             | 82              | 85              |
+                                                  +---------+-----------------+-----------------+-----------------+
|                                                  | 2       | 200             | 79              | 80              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+
| :mod:`translationese.ratio_to_passive_verbs`     |         | 300             | 73              | 65              |
+--------------------------------------------------+---------+-----------------+-----------------+-----------------+

.. [#f1] Dataset size, total number of chunks (evenly distributed; *O*/*T* = 1)
.. [#f2] Weighted average F-measure, as reported by Weka
.. [#f3] Result from `On the Features of Translationese by VV, NO, SW`
.. [#f4] No variants were specified for *Most frequent words* in the original
         article
